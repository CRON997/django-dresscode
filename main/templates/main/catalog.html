{%extends "main/base.html" %}
{%load static%}

{%block link%}
<link type="text/css" href="{% static 'main/css/catalog.css' %}" rel="stylesheet">
<link type="text/css" href="{% static 'main/css/pagination.css' %}" rel="stylesheet">
{%endblock%}

{%block title%}Catalog{%endblock%}

{%block content%}
<h1 class="catalog">Catalog</h1>
<div class="conteiner">
    <div class="filter-section">
        <div class="filter-header">
            <h3 class="filter-title">Filters</h3>
        </div>
        <div class="filter-content">
            <div class="filter-group">
                {%for category in categories%}
                <button class="filter-btn"
                        hx-get="{{category.get_absolute_url}}"
                        hx-target="#product-container"
                        hx-indicator="#loading"
                        data-category="{{category.slug}}">
                    {{category.name}}
                </button>
                {%endfor%}
                <button class="filter-btn"
                        hx-get="{% url 'main:product_list' %}"
                        hx-target="#product-container"
                        hx-indicator="#loading">
                    All Products
                </button>
            </div>
        </div>
    </div>
</div>

<div id="loading" class="htmx-indicator" style="display: none;">
    Loading...
</div>

<div id="product-container">
    {% include 'main/partial/product_list_partial.html' %}
</div>
{%endblock%}